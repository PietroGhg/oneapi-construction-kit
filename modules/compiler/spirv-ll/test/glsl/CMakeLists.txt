# Copyright (C) Codeplay Software Limited
#
# Licensed under the Apache License, Version 2.0 (the "License") with LLVM
# Exceptions; you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://github.com/codeplaysoftware/oneapi-construction-kit/blob/main/LICENSE.txt
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
# SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception

# If we're not assembling anything offline, we can skip this early.
if(NOT CA_ASSEMBLE_SPIRV_LL_LIT_TESTS_OFFLINE)
  add_custom_target(spirv-ll-glsl-lit)
  return()
endif()

set(GLSL_FILES
  builtin_var_gl_GlobalInvocationID.comp
  builtin_var_gl_LocalInvocationID.comp
  builtin_var_gl_LocalInvocationIndex.comp
  builtin_var_gl_NumWorkGroups.comp
  builtin_var_gl_WorkGroupID.comp
  descriptor_set_bool.comp
  descriptor_set_double.comp
  descriptor_set_float.comp
  descriptor_set_int.comp
  descriptor_set_uint.comp
  func_call_ret_scalar_bool.comp
  func_call_ret_scalar_double.comp
  func_call_ret_scalar_float.comp
  func_call_ret_scalar_int.comp
  func_call_ret_scalar_uint.comp
  func_call_ret_vec2_bool.comp
  func_call_ret_vec2_double.comp
  func_call_ret_vec2_float.comp
  func_call_ret_vec2_int.comp
  func_call_ret_vec2_uint.comp
  func_call_ret_vec3_bool.comp
  func_call_ret_vec3_double.comp
  func_call_ret_vec3_float.comp
  func_call_ret_vec3_int.comp
  func_call_ret_vec3_uint.comp
  func_call_ret_vec4_bool.comp
  func_call_ret_vec4_double.comp
  func_call_ret_vec4_float.comp
  func_call_ret_vec4_int.comp
  func_call_ret_vec4_uint.comp
  negate_op_double.comp
  negate_op_float.comp
  negate_op_int.comp
  negate_op_uint.comp
  op_access_array_bool.comp
  op_access_array_double.comp
  op_access_array_float.comp
  op_access_array_int.comp
  op_access_array_uint.comp
  op_add_ivec2_scalar_int_operands.comp
  op_add_ivec3_scalar_int_operands.comp
  op_add_ivec4_scalar_int_operands.comp
  op_add_two_int_operands.comp
  op_add_two_ivec2_int_operands.comp
  op_add_two_ivec3_int_operands.comp
  op_add_two_ivec4_int_operands.comp
  op_add_two_uint_operands.comp
  op_add_two_uvec2_uint_operands.comp
  op_add_two_uvec3_uint_operands.comp
  op_add_two_uvec4_uint_operands.comp
  op_add_uvec2_scalar_uint_operands.comp
  op_add_uvec3_scalar_uint_operands.comp
  op_add_uvec4_scalar_uint_operands.comp
  op_all_bvec2.comp
  op_all_bvec3.comp
  op_all_bvec4.comp
  op_and_ivec2_scalar_int_operands.comp
  op_and_ivec3_scalar_int_operands.comp
  op_and_ivec4_scalar_int_operands.comp
  op_and_two_bool_operands.comp
  op_and_two_int_operands.comp
  op_and_two_ivec2_int_operands.comp
  op_and_two_ivec3_int_operands.comp
  op_and_two_ivec4_int_operands.comp
  op_and_two_uint_operands.comp
  op_and_two_uvec2_uint_operands.comp
  op_and_two_uvec3_uint_operands.comp
  op_and_two_uvec4_uint_operands.comp
  op_and_uvec2_scalar_uint_operands.comp
  op_and_uvec3_scalar_uint_operands.comp
  op_and_uvec4_scalar_uint_operands.comp
  op_any_bvec2.comp
  op_any_bvec3.comp
  op_any_bvec4.comp
  op_array_length_bool.comp
  op_array_length_double.comp
  op_array_length_float.comp
  op_array_length_int.comp
  op_array_length_uint.comp
  op_ashr_ivec2_scalar_int_operands.comp
  op_ashr_ivec3_scalar_int_operands.comp
  op_ashr_ivec4_scalar_int_operands.comp
  op_ashr_two_int_operands.comp
  op_ashr_two_ivec2_int_operands.comp
  op_ashr_two_ivec3_int_operands.comp
  op_ashr_two_ivec4_int_operands.comp
  op_bitcount_int.comp
  op_bitcount_ivec2.comp
  op_bitcount_ivec3.comp
  op_bitcount_ivec4.comp
  op_bitfield_extract_int.comp
  op_bitfield_extract_ivec2.comp
  op_bitfield_extract_ivec3.comp
  op_bitfield_extract_ivec4.comp
  op_bitfield_extract_uint.comp
  op_bitfield_extract_uvec2.comp
  op_bitfield_extract_uvec3.comp
  op_bitfield_extract_uvec4.comp
  op_bitfield_insert_int.comp
  op_bitfield_insert_ivec2.comp
  op_bitfield_insert_ivec3.comp
  op_bitfield_insert_ivec4.comp
  op_bitfield_insert_uint.comp
  op_bitfield_insert_uvec2.comp
  op_bitfield_insert_uvec3.comp
  op_bitfield_insert_uvec4.comp
  op_cmp_eq_two_bool_operands.comp
  op_convert_double_to_float.comp
  op_convert_double_to_int.comp
  op_convert_dvec2_to_ivec2.comp
  op_convert_dvec3_to_ivec3.comp
  op_convert_dvec4_to_ivec4.comp
  op_convert_double_to_uint.comp
  op_convert_float_to_double.comp
  op_convert_float_to_int.comp
  op_convert_float_to_uint.comp
  op_convert_int_to_double.comp
  op_convert_int_to_float.comp
  op_convert_ivec2_to_vec2.comp
  op_convert_ivec3_to_vec3.comp
  op_convert_ivec4_to_vec4.comp
  op_convert_uint_to_double.comp
  op_convert_uint_to_float.comp
  op_dot_dvec2.comp
  op_dot_dvec3.comp
  op_dot_dvec4.comp
  op_dot_vec2.comp
  op_dot_vec3.comp
  op_dot_vec4.comp
  op_fadd_dvec2_scalar_double_operands.comp
  op_fadd_dvec3_scalar_double_operands.comp
  op_fadd_dvec4_scalar_double_operands.comp
  op_fadd_two_dmat2x2_double_operands.comp
  op_fadd_two_dmat3x3_double_operands.comp
  op_fadd_two_dmat4x4_double_operands.comp
  op_fadd_two_double_operands.comp
  op_fadd_two_dvec2_double_operands.comp
  op_fadd_two_dvec3_double_operands.comp
  op_fadd_two_dvec4_double_operands.comp
  op_fadd_two_float_operands.comp
  op_fadd_two_mat2x2_float_operands.comp
  op_fadd_two_mat3x3_float_operands.comp
  op_fadd_two_mat4x4_float_operands.comp
  op_fadd_two_vec2_float_operands.comp
  op_fadd_two_vec3_float_operands.comp
  op_fadd_two_vec4_float_operands.comp
  op_fadd_vec2_scalar_float_operands.comp
  op_fadd_vec3_scalar_float_operands.comp
  op_fadd_vec4_scalar_float_operands.comp
  op_fcmp_oeq_two_double_operands.comp
  op_fcmp_oeq_two_float_operands.comp
  op_fcmp_oge_two_double_operands.comp
  op_fcmp_oge_two_float_operands.comp
  op_fcmp_ogt_two_double_operands.comp
  op_fcmp_ogt_two_float_operands.comp
  op_fcmp_ole_two_double_operands.comp
  op_fcmp_ole_two_float_operands.comp
  op_fcmp_olt_two_double_operands.comp
  op_fcmp_olt_two_float_operands.comp
  op_fdiv_dvec2_scalar_double_operands.comp
  op_fdiv_dvec3_scalar_double_operands.comp
  op_fdiv_dvec4_scalar_double_operands.comp
  op_fdiv_two_dmat2x2_double_operands.comp
  op_fdiv_two_dmat3x3_double_operands.comp
  op_fdiv_two_dmat4x4_double_operands.comp
  op_fdiv_two_double_operands.comp
  op_fdiv_two_dvec2_double_operands.comp
  op_fdiv_two_dvec3_double_operands.comp
  op_fdiv_two_dvec4_double_operands.comp
  op_fdiv_two_float_operands.comp
  op_fdiv_two_mat2x2_float_operands.comp
  op_fdiv_two_mat3x3_float_operands.comp
  op_fdiv_two_mat4x4_float_operands.comp
  op_fdiv_two_vec2_float_operands.comp
  op_fdiv_two_vec3_float_operands.comp
  op_fdiv_two_vec4_float_operands.comp
  op_fdiv_vec2_scalar_float_operands.comp
  op_fdiv_vec3_scalar_float_operands.comp
  op_fdiv_vec4_scalar_float_operands.comp
  op_fmod_double.comp
  op_fmod_dvec2.comp
  op_fmod_dvec3.comp
  op_fmod_dvec4.comp
  op_fmod_float.comp
  op_fmod_vec2.comp
  op_fmod_vec3.comp
  op_fmod_vec4.comp
  op_fmod_double_arm.comp
  op_fmod_dvec2_arm.comp
  op_fmod_dvec3_arm.comp
  op_fmod_dvec4_arm.comp
  op_fmod_float_arm.comp
  op_fmod_vec2_arm.comp
  op_fmod_vec3_arm.comp
  op_fmod_vec4_arm.comp
  op_fmul_dvec2_scalar_double_operands.comp
  op_fmul_dvec3_scalar_double_operands.comp
  op_fmul_dvec4_scalar_double_operands.comp
  op_fmul_two_double_operands.comp
  op_fmul_two_dvec2_double_operands.comp
  op_fmul_two_dvec3_double_operands.comp
  op_fmul_two_dvec4_double_operands.comp
  op_fmul_two_float_operands.comp
  op_fmul_two_vec2_float_operands.comp
  op_fmul_two_vec3_float_operands.comp
  op_fmul_two_vec4_float_operands.comp
  op_fmul_vec2_scalar_float_operands.comp
  op_fmul_vec3_scalar_float_operands.comp
  op_fmul_vec4_scalar_float_operands.comp
  op_fsub_dvec2_scalar_double_operands.comp
  op_fsub_dvec3_scalar_double_operands.comp
  op_fsub_dvec4_scalar_double_operands.comp
  op_fsub_two_dmat2x2_double_operands.comp
  op_fsub_two_dmat3x3_double_operands.comp
  op_fsub_two_dmat4x4_double_operands.comp
  op_fsub_two_double_operands.comp
  op_fsub_two_dvec2_double_operands.comp
  op_fsub_two_dvec3_double_operands.comp
  op_fsub_two_dvec4_double_operands.comp
  op_fsub_two_float_operands.comp
  op_fsub_two_mat2x2_float_operands.comp
  op_fsub_two_mat3x3_float_operands.comp
  op_fsub_two_mat4x4_float_operands.comp
  op_fsub_two_vec2_float_operands.comp
  op_fsub_two_vec3_float_operands.comp
  op_fsub_two_vec4_float_operands.comp
  op_fsub_vec2_scalar_float_operands.comp
  op_fsub_vec3_scalar_float_operands.comp
  op_fsub_vec4_scalar_float_operands.comp
  op_function_parameter_bool.comp
  op_function_parameter_double.comp
  op_function_parameter_float.comp
  op_function_parameter_int.comp
  op_function_parameter_uint.comp
  op_glsl_Acos_float.comp
  op_glsl_Acos_vec2.comp
  op_glsl_Acos_vec3.comp
  op_glsl_Acos_vec4.comp
  op_glsl_Acosh_float.comp
  op_glsl_Acosh_vec2.comp
  op_glsl_Acosh_vec3.comp
  op_glsl_Acosh_vec4.comp
  op_glsl_Asin_float.comp
  op_glsl_Asin_vec2.comp
  op_glsl_Asin_vec3.comp
  op_glsl_Asin_vec4.comp
  op_glsl_Asinh_float.comp
  op_glsl_Asinh_vec2.comp
  op_glsl_Asinh_vec3.comp
  op_glsl_Asinh_vec4.comp
  op_glsl_Atan2_float_float.comp
  op_glsl_Atan2_vec2_vec2.comp
  op_glsl_Atan2_vec3_vec3.comp
  op_glsl_Atan2_vec4_vec4.comp
  op_glsl_Atan_float.comp
  op_glsl_Atan_vec2.comp
  op_glsl_Atan_vec3.comp
  op_glsl_Atan_vec4.comp
  op_glsl_Atanh_float.comp
  op_glsl_Atanh_vec2.comp
  op_glsl_Atanh_vec3.comp
  op_glsl_Atanh_vec4.comp
  op_glsl_Ceil_double.comp
  op_glsl_Ceil_dvec2.comp
  op_glsl_Ceil_dvec3.comp
  op_glsl_Ceil_dvec4.comp
  op_glsl_Ceil_float.comp
  op_glsl_Ceil_vec2.comp
  op_glsl_Ceil_vec3.comp
  op_glsl_Ceil_vec4.comp
  op_glsl_Cos_float.comp
  op_glsl_Cos_vec2.comp
  op_glsl_Cos_vec3.comp
  op_glsl_Cos_vec4.comp
  op_glsl_Cosh_float.comp
  op_glsl_Cosh_vec2.comp
  op_glsl_Cosh_vec3.comp
  op_glsl_Cosh_vec4.comp
  op_glsl_Cross_dvec3_dvec3.comp
  op_glsl_Cross_vec3_vec3.comp
  op_glsl_Degrees_float.comp
  op_glsl_Degrees_vec2.comp
  op_glsl_Degrees_vec3.comp
  op_glsl_Degrees_vec4.comp
  op_glsl_Distance_double_double.comp
  op_glsl_Distance_dvec2_dvec2.comp
  op_glsl_Distance_dvec3_dvec3.comp
  op_glsl_Distance_dvec4_dvec4.comp
  op_glsl_Distance_float_float.comp
  op_glsl_Distance_vec2_vec2.comp
  op_glsl_Distance_vec3_vec3.comp
  op_glsl_Distance_vec4_vec4.comp
  op_glsl_Exp2_float.comp
  op_glsl_Exp2_vec2.comp
  op_glsl_Exp2_vec3.comp
  op_glsl_Exp2_vec4.comp
  op_glsl_Exp_float.comp
  op_glsl_Exp_vec2.comp
  op_glsl_Exp_vec3.comp
  op_glsl_Exp_vec4.comp
  op_glsl_FAbs_double.comp
  op_glsl_FAbs_dvec2.comp
  op_glsl_FAbs_dvec3.comp
  op_glsl_FAbs_dvec4.comp
  op_glsl_FAbs_float.comp
  op_glsl_FAbs_vec2.comp
  op_glsl_FAbs_vec3.comp
  op_glsl_FAbs_vec4.comp
  op_glsl_FClamp_double_double_double.comp
  op_glsl_FClamp_dvec2_dvec2_dvec2.comp
  op_glsl_FClamp_dvec3_dvec3_dvec3.comp
  op_glsl_FClamp_dvec4_dvec4_dvec4.comp
  op_glsl_FClamp_float_float_float.comp
  op_glsl_FClamp_vec2_vec2_vec2.comp
  op_glsl_FClamp_vec3_vec3_vec3.comp
  op_glsl_FClamp_vec4_vec4_vec4.comp
  op_glsl_FMax_double_double.comp
  op_glsl_FMax_dvec2_dvec2.comp
  op_glsl_FMax_dvec3_dvec3.comp
  op_glsl_FMax_dvec4_dvec4.comp
  op_glsl_FMax_float_float.comp
  op_glsl_FMax_vec2_vec2.comp
  op_glsl_FMax_vec3_vec3.comp
  op_glsl_FMax_vec4_vec4.comp
  op_glsl_FMin_double_double.comp
  op_glsl_FMin_dvec2_dvec2.comp
  op_glsl_FMin_dvec3_dvec3.comp
  op_glsl_FMin_dvec4_dvec4.comp
  op_glsl_FMin_float_float.comp
  op_glsl_FMin_vec2_vec2.comp
  op_glsl_FMin_vec3_vec3.comp
  op_glsl_FMin_vec4_vec4.comp
  op_glsl_FMix_double_double_double.comp
  op_glsl_FMix_dvec2_dvec2_dvec2.comp
  op_glsl_FMix_dvec3_dvec3_dvec3.comp
  op_glsl_FMix_dvec4_dvec4_dvec4.comp
  op_glsl_FMix_float_float_float.comp
  op_glsl_FMix_vec2_vec2_vec2.comp
  op_glsl_FMix_vec3_vec3_vec3.comp
  op_glsl_FMix_vec4_vec4_vec4.comp
  op_glsl_FSign_double.comp
  op_glsl_FSign_dvec2.comp
  op_glsl_FSign_dvec3.comp
  op_glsl_FSign_dvec4.comp
  op_glsl_FSign_float.comp
  op_glsl_FSign_vec2.comp
  op_glsl_FSign_vec3.comp
  op_glsl_FSign_vec4.comp
  op_glsl_FaceForward_double_double_double.comp
  op_glsl_FaceForward_dvec2_dvec2_dvec2.comp
  op_glsl_FaceForward_dvec3_dvec3_dvec3.comp
  op_glsl_FaceForward_dvec4_dvec4_dvec4.comp
  op_glsl_FaceForward_float_float_float.comp
  op_glsl_FaceForward_vec2_vec2_vec2.comp
  op_glsl_FaceForward_vec3_vec3_vec3.comp
  op_glsl_FaceForward_vec4_vec4_vec4.comp
  op_glsl_FindILsb_uint.comp
  op_glsl_FindILsb_uvec2.comp
  op_glsl_FindILsb_uvec3.comp
  op_glsl_FindILsb_uvec4.comp
  op_glsl_FindSMsb_int.comp
  op_glsl_FindSMsb_ivec2.comp
  op_glsl_FindSMsb_ivec3.comp
  op_glsl_FindSMsb_ivec4.comp
  op_glsl_FindUMsb_uint.comp
  op_glsl_FindUMsb_uvec2.comp
  op_glsl_FindUMsb_uvec3.comp
  op_glsl_FindUMsb_uvec4.comp
  op_glsl_Floor_double.comp
  op_glsl_Floor_dvec2.comp
  op_glsl_Floor_dvec3.comp
  op_glsl_Floor_dvec4.comp
  op_glsl_Floor_float.comp
  op_glsl_Floor_vec2.comp
  op_glsl_Floor_vec3.comp
  op_glsl_Floor_vec4.comp
  op_glsl_Fma_double_double_double.comp
  op_glsl_Fma_dvec2_dvec2_dvec2.comp
  op_glsl_Fma_dvec3_dvec3_dvec3.comp
  op_glsl_Fma_dvec4_dvec4_dvec4.comp
  op_glsl_Fma_float_float_float.comp
  op_glsl_Fma_vec2_vec2_vec2.comp
  op_glsl_Fma_vec3_vec3_vec3.comp
  op_glsl_Fma_vec4_vec4_vec4.comp
  op_glsl_Fract_double.comp
  op_glsl_Fract_dvec2.comp
  op_glsl_Fract_dvec3.comp
  op_glsl_Fract_dvec4.comp
  op_glsl_Fract_float.comp
  op_glsl_Fract_vec2.comp
  op_glsl_Fract_vec3.comp
  op_glsl_Fract_vec4.comp
  op_glsl_InverseSqrt_double.comp
  op_glsl_InverseSqrt_dvec2.comp
  op_glsl_InverseSqrt_dvec3.comp
  op_glsl_InverseSqrt_dvec4.comp
  op_glsl_InverseSqrt_float.comp
  op_glsl_InverseSqrt_vec2.comp
  op_glsl_InverseSqrt_vec3.comp
  op_glsl_InverseSqrt_vec4.comp
  op_glsl_Ldexp_double_int.comp
  op_glsl_Ldexp_dvec2_ivec2.comp
  op_glsl_Ldexp_dvec3_ivec3.comp
  op_glsl_Ldexp_dvec4_ivec4.comp
  op_glsl_Ldexp_float_int.comp
  op_glsl_Ldexp_vec2_ivec2.comp
  op_glsl_Ldexp_vec3_ivec3.comp
  op_glsl_Ldexp_vec4_ivec4.comp
  op_glsl_Length_double.comp
  op_glsl_Length_dvec2.comp
  op_glsl_Length_dvec3.comp
  op_glsl_Length_dvec4.comp
  op_glsl_Length_float.comp
  op_glsl_Length_vec2.comp
  op_glsl_Length_vec3.comp
  op_glsl_Length_vec4.comp
  op_glsl_Log2_float.comp
  op_glsl_Log2_vec2.comp
  op_glsl_Log2_vec3.comp
  op_glsl_Log2_vec4.comp
  op_glsl_Log_float.comp
  op_glsl_Log_vec2.comp
  op_glsl_Log_vec3.comp
  op_glsl_Log_vec4.comp
  op_glsl_NClamp_double_double_double.comp
  op_glsl_NClamp_dvec2_dvec2_dvec2.comp
  op_glsl_NClamp_dvec3_dvec3_dvec3.comp
  op_glsl_NClamp_dvec4_dvec4_dvec4.comp
  op_glsl_NClamp_float_float_float.comp
  op_glsl_NClamp_vec2_vec2_vec2.comp
  op_glsl_NClamp_vec3_vec3_vec3.comp
  op_glsl_NClamp_vec4_vec4_vec4.comp
  op_glsl_NMax_double_double.comp
  op_glsl_NMax_dvec2_dvec2.comp
  op_glsl_NMax_dvec3_dvec3.comp
  op_glsl_NMax_dvec4_dvec4.comp
  op_glsl_NMax_float_float.comp
  op_glsl_NMax_vec2_vec2.comp
  op_glsl_NMax_vec3_vec3.comp
  op_glsl_NMax_vec4_vec4.comp
  op_glsl_NMin_double_double.comp
  op_glsl_NMin_dvec2_dvec2.comp
  op_glsl_NMin_dvec3_dvec3.comp
  op_glsl_NMin_dvec4_dvec4.comp
  op_glsl_NMin_float_float.comp
  op_glsl_NMin_vec2_vec2.comp
  op_glsl_NMin_vec3_vec3.comp
  op_glsl_NMin_vec4_vec4.comp
  op_glsl_Normalize_double.comp
  op_glsl_Normalize_dvec2.comp
  op_glsl_Normalize_dvec3.comp
  op_glsl_Normalize_dvec4.comp
  op_glsl_Normalize_float.comp
  op_glsl_Normalize_vec2.comp
  op_glsl_Normalize_vec3.comp
  op_glsl_Normalize_vec4.comp
  op_glsl_PackDouble2x32_uvec2.comp
  op_glsl_PackHalf2x16_vec2.comp
  op_glsl_PackSnorm2x16_vec2.comp
  op_glsl_PackSnorm4x8_vec4.comp
  op_glsl_PackUnorm2x16_vec2.comp
  op_glsl_PackUnorm4x8_vec4.comp
  op_glsl_Pow_float_float.comp
  op_glsl_Pow_vec2_vec2.comp
  op_glsl_Pow_vec3_vec3.comp
  op_glsl_Pow_vec4_vec4.comp
  op_glsl_Radians_float.comp
  op_glsl_Radians_vec2.comp
  op_glsl_Radians_vec3.comp
  op_glsl_Radians_vec4.comp
  op_glsl_Reflect_double_double.comp
  op_glsl_Reflect_dvec2_dvec2.comp
  op_glsl_Reflect_dvec3_dvec3.comp
  op_glsl_Reflect_dvec4_dvec4.comp
  op_glsl_Reflect_float_float.comp
  op_glsl_Reflect_vec2_vec2.comp
  op_glsl_Reflect_vec3_vec3.comp
  op_glsl_Reflect_vec4_vec4.comp
  op_glsl_Refract_double_double_double.comp
  op_glsl_Refract_dvec2_dvec2_double.comp
  op_glsl_Refract_dvec3_dvec3_double.comp
  op_glsl_Refract_dvec4_dvec4_double.comp
  op_glsl_Refract_float_float_float.comp
  op_glsl_Refract_vec2_vec2_float.comp
  op_glsl_Refract_vec3_vec3_float.comp
  op_glsl_Refract_vec4_vec4_float.comp
  op_glsl_RoundEven_double.comp
  op_glsl_RoundEven_dvec2.comp
  op_glsl_RoundEven_dvec3.comp
  op_glsl_RoundEven_dvec4.comp
  op_glsl_RoundEven_float.comp
  op_glsl_RoundEven_vec2.comp
  op_glsl_RoundEven_vec3.comp
  op_glsl_RoundEven_vec4.comp
  op_glsl_Round_double.comp
  op_glsl_Round_dvec2.comp
  op_glsl_Round_dvec3.comp
  op_glsl_Round_dvec4.comp
  op_glsl_Round_float.comp
  op_glsl_Round_vec2.comp
  op_glsl_Round_vec3.comp
  op_glsl_Round_vec4.comp
  op_glsl_SAbs_int.comp
  op_glsl_SAbs_ivec2.comp
  op_glsl_SAbs_ivec3.comp
  op_glsl_SAbs_ivec4.comp
  op_glsl_SClamp_int_int_int.comp
  op_glsl_SClamp_ivec2_ivec2_ivec2.comp
  op_glsl_SClamp_ivec3_ivec3_ivec3.comp
  op_glsl_SClamp_ivec4_ivec4_ivec4.comp
  op_glsl_SMax_int_int.comp
  op_glsl_SMax_ivec2_ivec2.comp
  op_glsl_SMax_ivec3_ivec3.comp
  op_glsl_SMax_ivec4_ivec4.comp
  op_glsl_SMin_int_int.comp
  op_glsl_SMin_ivec2_ivec2.comp
  op_glsl_SMin_ivec3_ivec3.comp
  op_glsl_SMin_ivec4_ivec4.comp
  op_glsl_SSign_int.comp
  op_glsl_SSign_ivec2.comp
  op_glsl_SSign_ivec3.comp
  op_glsl_SSign_ivec4.comp
  op_glsl_Sin_float.comp
  op_glsl_Sin_vec2.comp
  op_glsl_Sin_vec3.comp
  op_glsl_Sin_vec4.comp
  op_glsl_Sinh_float.comp
  op_glsl_Sinh_vec2.comp
  op_glsl_Sinh_vec3.comp
  op_glsl_Sinh_vec4.comp
  op_glsl_SmoothStep_double_double_double.comp
  op_glsl_SmoothStep_dvec2_dvec2_dvec2.comp
  op_glsl_SmoothStep_dvec3_dvec3_dvec3.comp
  op_glsl_SmoothStep_dvec4_dvec4_dvec4.comp
  op_glsl_SmoothStep_float_float_float.comp
  op_glsl_SmoothStep_vec2_vec2_vec2.comp
  op_glsl_SmoothStep_vec3_vec3_vec3.comp
  op_glsl_SmoothStep_vec4_vec4_vec4.comp
  op_glsl_Sqrt_double.comp
  op_glsl_Sqrt_dvec2.comp
  op_glsl_Sqrt_dvec3.comp
  op_glsl_Sqrt_dvec4.comp
  op_glsl_Sqrt_float.comp
  op_glsl_Sqrt_vec2.comp
  op_glsl_Sqrt_vec3.comp
  op_glsl_Sqrt_vec4.comp
  op_glsl_Step_double_double.comp
  op_glsl_Step_dvec2_dvec2.comp
  op_glsl_Step_dvec3_dvec3.comp
  op_glsl_Step_dvec4_dvec4.comp
  op_glsl_Step_float_float.comp
  op_glsl_Step_vec2_vec2.comp
  op_glsl_Step_vec3_vec3.comp
  op_glsl_Step_vec4_vec4.comp
  op_glsl_Tan_float.comp
  op_glsl_Tan_vec2.comp
  op_glsl_Tan_vec3.comp
  op_glsl_Tan_vec4.comp
  op_glsl_Tanh_float.comp
  op_glsl_Tanh_vec2.comp
  op_glsl_Tanh_vec3.comp
  op_glsl_Tanh_vec4.comp
  op_glsl_Trunc_double.comp
  op_glsl_Trunc_dvec2.comp
  op_glsl_Trunc_dvec3.comp
  op_glsl_Trunc_dvec4.comp
  op_glsl_Trunc_float.comp
  op_glsl_Trunc_vec2.comp
  op_glsl_Trunc_vec3.comp
  op_glsl_Trunc_vec4.comp
  op_glsl_UClamp_uint_uint_uint.comp
  op_glsl_UClamp_uvec2_uvec2_uvec2.comp
  op_glsl_UClamp_uvec3_uvec3_uvec3.comp
  op_glsl_UClamp_uvec4_uvec4_uvec4.comp
  op_glsl_UMax_uint_uint.comp
  op_glsl_UMax_uvec2_uvec2.comp
  op_glsl_UMax_uvec3_uvec3.comp
  op_glsl_UMax_uvec4_uvec4.comp
  op_glsl_UMin_uint_uint.comp
  op_glsl_UMin_uvec2_uvec2.comp
  op_glsl_UMin_uvec3_uvec3.comp
  op_glsl_UMin_uvec4_uvec4.comp
  op_glsl_UnpackDouble2x32_double.comp
  op_glsl_UnpackHalf2x16_uint.comp
  op_glsl_UnpackSnorm2x16_uint.comp
  op_glsl_UnpackSnorm4x8_uint.comp
  op_glsl_UnpackUnorm2x16_uint.comp
  op_glsl_UnpackUnorm4x8_uint.comp
  op_icmp_eq_two_int_operands.comp
  op_icmp_eq_two_uint_operands.comp
  op_icmp_ne_two_int_operands.comp
  op_icmp_ne_two_uint_operands.comp
  op_icmp_sge_two_int_operands.comp
  op_icmp_sgt_two_int_operands.comp
  op_icmp_sle_two_int_operands.comp
  op_icmp_slt_two_int_operands.comp
  op_icmp_uge_two_uint_operands.comp
  op_icmp_ugt_two_uint_operands.comp
  op_icmp_ule_two_uint_operands.comp
  op_icmp_ult_two_uint_operands.comp
  op_insert_array_bool.comp
  op_insert_array_double.comp
  op_insert_array_float.comp
  op_insert_array_int.comp
  op_insert_array_uint.comp
  op_isinf_double.comp
  op_isinf_float.comp
  op_isnan_double.comp
  op_isnan_float.comp
  op_lshr_two_uint_operands.comp
  op_lshr_two_uvec2_uint_operands.comp
  op_lshr_two_uvec3_uint_operands.comp
  op_lshr_two_uvec4_uint_operands.comp
  op_lshr_uvec2_scalar_uint_operands.comp
  op_lshr_uvec3_scalar_uint_operands.comp
  op_lshr_uvec4_scalar_uint_operands.comp
  op_mul_ivec2_scalar_int_operands.comp
  op_mul_ivec3_scalar_int_operands.comp
  op_mul_ivec4_scalar_int_operands.comp
  op_mul_two_int_operands.comp
  op_mul_two_ivec2_int_operands.comp
  op_mul_two_ivec3_int_operands.comp
  op_mul_two_ivec4_int_operands.comp
  op_mul_two_uint_operands.comp
  op_mul_two_uvec2_uint_operands.comp
  op_mul_two_uvec3_uint_operands.comp
  op_mul_two_uvec4_uint_operands.comp
  op_mul_uvec2_scalar_uint_operands.comp
  op_mul_uvec3_scalar_uint_operands.comp
  op_mul_uvec4_scalar_uint_operands.comp
  op_or_ivec2_scalar_int_operands.comp
  op_or_ivec3_scalar_int_operands.comp
  op_or_ivec4_scalar_int_operands.comp
  op_or_two_bool_operands.comp
  op_or_two_int_operands.comp
  op_or_two_ivec2_int_operands.comp
  op_or_two_ivec3_int_operands.comp
  op_or_two_ivec4_int_operands.comp
  op_or_two_uint_operands.comp
  op_or_two_uvec2_uint_operands.comp
  op_or_two_uvec3_uint_operands.comp
  op_or_two_uvec4_uint_operands.comp
  op_or_uvec2_scalar_uint_operands.comp
  op_or_uvec3_scalar_uint_operands.comp
  op_or_uvec4_scalar_uint_operands.comp
  op_sdiv_ivec2_scalar_int_operands.comp
  op_sdiv_ivec3_scalar_int_operands.comp
  op_sdiv_ivec4_scalar_int_operands.comp
  op_sdiv_two_int_operands.comp
  op_sdiv_two_ivec2_int_operands.comp
  op_sdiv_two_ivec3_int_operands.comp
  op_sdiv_two_ivec4_int_operands.comp
  op_shl_ivec2_scalar_int_operands.comp
  op_shl_ivec3_scalar_int_operands.comp
  op_shl_ivec4_scalar_int_operands.comp
  op_shl_two_int_operands.comp
  op_shl_two_ivec2_int_operands.comp
  op_shl_two_ivec3_int_operands.comp
  op_shl_two_ivec4_int_operands.comp
  op_shl_two_uint_operands.comp
  op_shl_two_uvec2_uint_operands.comp
  op_shl_two_uvec3_uint_operands.comp
  op_shl_two_uvec4_uint_operands.comp
  op_shl_uvec2_scalar_uint_operands.comp
  op_shl_uvec3_scalar_uint_operands.comp
  op_shl_uvec4_scalar_uint_operands.comp
  op_smod_ivec2_scalar_int_operands.comp
  op_smod_ivec3_scalar_int_operands.comp
  op_smod_ivec4_scalar_int_operands.comp
  op_smod_two_int_operands.comp
  op_smod_two_ivec2_int_operands.comp
  op_smod_two_ivec3_int_operands.comp
  op_smod_two_ivec4_int_operands.comp
  op_spec_constant_op_add_int.comp
  op_spec_constant_op_add_uint.comp
  op_spec_constant_op_and_bool.comp
  op_spec_constant_op_and_int.comp
  op_spec_constant_op_and_uint.comp
  op_spec_constant_op_ashr_int.comp
  op_spec_constant_op_cmp_eq_bool.comp
  op_spec_constant_op_icmp_eq_int.comp
  op_spec_constant_op_icmp_eq_uint.comp
  op_spec_constant_op_icmp_ne_int.comp
  op_spec_constant_op_icmp_ne_uint.comp
  op_spec_constant_op_icmp_sge_int.comp
  op_spec_constant_op_icmp_sgt_int.comp
  op_spec_constant_op_icmp_sle_int.comp
  op_spec_constant_op_icmp_slt_int.comp
  op_spec_constant_op_icmp_uge_uint.comp
  op_spec_constant_op_icmp_ugt_uint.comp
  op_spec_constant_op_icmp_ule_uint.comp
  op_spec_constant_op_icmp_ult_uint.comp
  op_spec_constant_op_lshr_uint.comp
  op_spec_constant_op_mul_int.comp
  op_spec_constant_op_mul_uint.comp
  op_spec_constant_op_or_bool.comp
  op_spec_constant_op_or_int.comp
  op_spec_constant_op_or_uint.comp
  op_spec_constant_op_sdiv_int.comp
  op_spec_constant_op_shl_int.comp
  op_spec_constant_op_shl_uint.comp
  op_spec_constant_op_smod_int.comp
  op_spec_constant_op_sub_int.comp
  op_spec_constant_op_sub_uint.comp
  op_spec_constant_op_udiv_uint.comp
  op_spec_constant_op_umod_uint.comp
  op_spec_constant_op_xor_bool.comp
  op_spec_constant_op_xor_int.comp
  op_spec_constant_op_xor_uint.comp
  op_sub_ivec2_scalar_int_operands.comp
  op_sub_ivec3_scalar_int_operands.comp
  op_sub_ivec4_scalar_int_operands.comp
  op_sub_two_int_operands.comp
  op_sub_two_ivec2_int_operands.comp
  op_sub_two_ivec3_int_operands.comp
  op_sub_two_ivec4_int_operands.comp
  op_sub_two_uint_operands.comp
  op_sub_two_uvec2_uint_operands.comp
  op_sub_two_uvec3_uint_operands.comp
  op_sub_two_uvec4_uint_operands.comp
  op_sub_uvec2_scalar_uint_operands.comp
  op_sub_uvec3_scalar_uint_operands.comp
  op_sub_uvec4_scalar_uint_operands.comp
  op_switch.comp
  op_switch_default.comp
  op_udiv_two_uint_operands.comp
  op_udiv_two_uvec2_uint_operands.comp
  op_udiv_two_uvec3_uint_operands.comp
  op_udiv_two_uvec4_uint_operands.comp
  op_udiv_uvec2_scalar_uint_operands.comp
  op_udiv_uvec3_scalar_uint_operands.comp
  op_udiv_uvec4_scalar_uint_operands.comp
  op_umod_two_uint_operands.comp
  op_umod_two_uvec2_uint_operands.comp
  op_umod_two_uvec3_uint_operands.comp
  op_umod_two_uvec4_uint_operands.comp
  op_umod_uvec2_scalar_uint_operands.comp
  op_umod_uvec3_scalar_uint_operands.comp
  op_umod_uvec4_scalar_uint_operands.comp
  op_xor_ivec2_scalar_int_operands.comp
  op_xor_ivec3_scalar_int_operands.comp
  op_xor_ivec4_scalar_int_operands.comp
  op_xor_two_bool_operands.comp
  op_xor_two_int_operands.comp
  op_xor_two_ivec2_int_operands.comp
  op_xor_two_ivec3_int_operands.comp
  op_xor_two_ivec4_int_operands.comp
  op_xor_two_uint_operands.comp
  op_xor_two_uvec2_uint_operands.comp
  op_xor_two_uvec3_uint_operands.comp
  op_xor_two_uvec4_uint_operands.comp
  op_xor_uvec2_scalar_uint_operands.comp
  op_xor_uvec3_scalar_uint_operands.comp
  op_xor_uvec4_scalar_uint_operands.comp
  push_constant_bool.comp
  push_constant_double.comp
  push_constant_float.comp
  push_constant_int.comp
  push_constant_uint.comp
  spec_constants.comp
  printf.comp
)

# Remove obsolete lit test inputs from the binary directory.
file(GLOB obsoleteTests ${CMAKE_CURRENT_BINARY_DIR}/*.comp)
foreach(testFile ${GLSL_FILES})
  list(REMOVE_ITEM obsoleteTests ${CMAKE_CURRENT_BINARY_DIR}/${testFile})
endforeach()
if(obsoleteTests)
  file(REMOVE ${obsoleteTests})
endif()

# Create custom commands to compile all the .comp files into .spv.
foreach(glsl ${GLSL_FILES})
  get_filename_component(name ${glsl} NAME_WE)
  get_filename_component(path ${glsl} DIRECTORY)

  set(test ${CMAKE_CURRENT_BINARY_DIR}/${glsl})
  set(comp ${CMAKE_CURRENT_SOURCE_DIR}/${glsl})
  set(spv ${CMAKE_CURRENT_BINARY_DIR}/${path}/${name}.spv)
  if(NOT EXISTS ${comp})
    message(FATAL_ERROR "spirv-ll input comp does not exist: ${comp}")
  endif()

  if(GLSL_UNSUPPORTED STREQUAL False)
    # Generate .spv from .comp source.
    file(RELATIVE_PATH spvOut ${CMAKE_BINARY_DIR} ${spv})

    # Work out whether we're validating this SPIR-V file.
    set(OPTIONAL_VALIDATE_DEPENDS)
    set(OPTIONAL_VALIDATE_COMMAND)
    if(TARGET spirv::spirv-val)
      set(OPTIONAL_VALIDATE_DEPENDS spirv::spirv-val)
      set(OPTIONAL_VALIDATE_COMMAND COMMAND spirv::spirv-val ${spv})
    endif()

    add_custom_command(OUTPUT ${spv}
      COMMAND ${glslangValidator_EXECUTABLE} -s -V -o ${spv} ${comp}
      ${OPTIONAL_VALIDATE_COMMAND}
      DEPENDS ${glslangValidator_EXECUTABLE} ${OPTIONAL_VALIDATE_DEPENDS} ${comp}
      COMMENT "Building SPIR-V ${spvOut}")
    list(APPEND LitTestFiles ${spv})
  endif()
endforeach()

add_custom_target(spirv-ll-glsl-lit DEPENDS ${LitTestFiles})
